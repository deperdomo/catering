<section class="gallery-section">
  <div class="gallery-container">
    <app-section-title [title1]="'DELICIAS CULINARIAS'"
      [title2]="'Explore nuestras exquisitas presentaciones'"></app-section-title>

    <!-- Carrusel mejorado -->
    <div class="carousel-wrapper">
      <div class="carousel-container" 
           (mouseenter)="pauseAutoPlay()" 
           (mouseleave)="resumeAutoPlay()">
        
        <!-- Contenedor principal -->
        <div class="carousel-viewport" 
             (touchstart)="onTouchStart($event)"
             (touchmove)="onTouchMove($event)" 
             (touchend)="onTouchEnd()">
          
          <!-- Contenedor de slides -->
          <div class="carousel-track"
               [style.transform]="'translateX(-' + (currentSlide * slideWidthPercent) + '%)'">
            
            <!-- Slides -->
            <div *ngFor="let slide of slides; let i = index"
                 class="carousel-slide"
                 [class.active]="i === currentSlide">
              <div class="slide-inner">
                <img [src]="slide.image" 
                     [alt]="slide.title" 
                     class="slide-image"
                     loading="lazy">
                <div class="slide-overlay">
                  <div class="slide-content">
                    <h3 class="slide-title">{{ slide.title }}</h3>
                    <div class="slide-indicator-line"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Controles de navegaciÃ³n -->
        <button class="nav-button nav-button-prev" 
                (click)="previousSlide()"
                [disabled]="slides.length <= 1">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        
        <button class="nav-button nav-button-next" 
                (click)="nextSlide()"
                [disabled]="slides.length <= 1">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>

        <!-- Indicadores de progreso -->
        <div class="progress-indicators">
          <button *ngFor="let slide of slides; let i = index"
                  class="progress-dot"
                  [class.active]="i === currentSlide"
                  (click)="goToSlide(i)">
            <span class="sr-only">Ir a imagen {{ i + 1 }}</span>
          </button>
        </div>

        <!-- Control de autoplay -->
        <div class="autoplay-controls">
          <button class="autoplay-button" 
                  (click)="toggleAutoPlay()"
                  [title]="isAutoPlaying ? 'Pausar' : 'Reproducir'">
            <svg *ngIf="isAutoPlaying" class="autoplay-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
            </svg>
            <svg *ngIf="!isAutoPlaying" class="autoplay-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M8 5v14l11-7z"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>